<odoo>
    <record id="spec_account_res_partner_view_form" model="ir.ui.view">
        <field name="name">spec.account.res.partner.view.form</field>
        <field name="model">res.partner</field>
        <field name="inherit_id" ref="account.view_partner_property_form"/>
        <field name="priority">1000</field>
        <field name="arch" type="xml">

            <xpath expr="//field[@name='property_account_payable_id']" position="after">
                <button type="object"
                        name="action_create_spec_account"
                        string="Create Partner-specific Accounts"
                        class="btn btn-primary"
                        help="Add accounts to store income and expenditures related to specific business partners."/>
                <field name="show_spec_accounts" invisible="1"/>
                <field name="use_specific_accounts" widget="boolean_toggle" attrs="{'invisible': [('show_spec_accounts', '=', False)]}"/>
                <field name="spec_account_receivable_id" attrs="{'invisible': [('show_spec_accounts', '=', False)], 'required': [('spec_account_payable_id', '!=', False)]}"/>
                <field name="spec_account_payable_id" attrs="{'invisible': [('show_spec_accounts', '=', False)], 'required': [('spec_account_receivable_id', '!=', False)]}"/>
            </xpath>
            <xpath expr="//field[@name='property_account_receivable_id']" position="replace">
                <field name="property_account_receivable_id"/>
                <field name="display_account_receivable_id"/>
            </xpath>
            <xpath expr="//field[@name='property_account_payable_id']" position="replace">
                <field name="property_account_payable_id"/>
                <field name="display_account_payable_id"/>
            </xpath>

        </field>
    </record>
</odoo>